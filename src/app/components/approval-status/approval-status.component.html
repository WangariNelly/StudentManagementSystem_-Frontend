<!-- src/app/components/student-management/student-management.component.html -->

<div class="student-management">
    <h2>Student Records</h2>
  
    <table mat-table [dataSource]="studentRecords" class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let record">{{ record.id }}</td>
      </ng-container>
  
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> First Name </th>
        <td mat-cell *matCellDef="let record">{{ record.firstName }}</td>
      </ng-container>
  
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Last Name </th>
        <td mat-cell *matCellDef="let record">{{ record.lastName }}</td>
      </ng-container>
  
      <ng-container matColumnDef="dob">
        <th mat-header-cell *matHeaderCellDef> Date of Birth </th>
        <td mat-cell *matCellDef="let record">{{ record.dob | date }}</td>
      </ng-container>
  
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let record">{{ record.approvedStatus }}</td>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </ng-container>
  
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let record">
          <button mat-button (click)="selectRecord(record)">Edit</button>
          <button mat-button (click)="reviewRecord(record, true)">Approve</button>
          <button mat-button (click)="reviewRecord(record, false)">Reject</button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  
    <div *ngIf="selectedRecord">
      <h3>Edit Record</h3>
      <form>
        <mat-form-field>
          <input matInput [(ngModel)]="selectedRecord.firstName" placeholder="First Name" />
        </mat-form-field>
  
        <mat-form-field>
          <input matInput [(ngModel)]="selectedRecord.lastName" placeholder="Last Name" />
        </mat-form-field>
  
        <mat-form-field>
          <input matInput [(ngModel)]="selectedRecord.dob" placeholder="Date of Birth" />
        </mat-form-field>
  
        <mat-form-field>
          <input matInput [(ngModel)]="selectedRecord.className" placeholder="Class" />
        </mat-form-field>
  
        <mat-form-field>
          <input matInput [(ngModel)]="selectedRecord.score" placeholder="Score" />
        </mat-form-field>
  
        <mat-form-field>
          <textarea matInput [(ngModel)]="selectedRecord.checkerComment" placeholder="Checker's Comment"></textarea>
        </mat-form-field>
  
        <button mat-raised-button (click)="updateRecord(selectedRecord)">Save Changes</button>
        <button mat-button (click)="clearSelection()">Cancel</button>
      </form>
    </div>
  </div>
  